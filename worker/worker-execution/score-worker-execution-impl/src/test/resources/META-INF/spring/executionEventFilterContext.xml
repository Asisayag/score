<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:integration="http://www.springframework.org/schema/integration"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd">

    <integration:channel id="event_Channel"/>
    <integration:channel id="rejectedMessages"/>

    <integration:gateway service-interface="com.hp.oo.execution.gateways.EventGateway"
                         default-request-channel="event_Channel"/>


	<bean id="filterTest" class="com.hp.score.worker.management.services.ExecutionEventLogFilterServiceTest"/>

	<!-- put the response in the success List -->
    <integration:service-activator input-channel="event_ChannelAfterFilter" ref="filterTest" method="updateSuccessFilterList"/>
	<!-- put the response in the discard List -->
	<integration:service-activator input-channel="rejectedMessages" ref="filterTest" method="updateDiscardFilterList"/>

	<!-- filter -->
    <integration:channel id="event_ChannelAfterFilter"/>

	<integration:filter input-channel="event_Channel" output-channel="event_ChannelAfterFilter"
			 ref="filter_bean" method="logFilterAccept" discard-channel="rejectedMessages"/>

	<!--<bean id="filter_bean" class="com.hp.oo.execution.services.ExecutionEventLogFilter"/>-->

</beans>
